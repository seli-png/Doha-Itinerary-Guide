<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide for Moving to Qatar</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0 20px;
        }
        ul li {
          display: flex;
          align-items: center; /* Aligns the text and icon vertically */
        }

        .expand-icon {
          margin-left: 8px; /* Adjust space between text and icon */
          transition: transform 0.3s ease; /* Smooth animation for icon rotation */
        }

        .details {
          display: none; /* Initially hide the details */
        }

        h1, h2 {
            text-align: center;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        li {
            margin: 10px 0;
            cursor: pointer;
        }

        li:hover {
            color: #007BFF;
        }

        .details {
            display: none;
            margin-left: 20px;
            margin-top: 10px;
            padding-left: 10px;
            border-left: 2px solid #ddd;
        }

        .details.active {
            display: block;
        }

        .details p {
            margin: 5px 0;
        }

        #map {
            height: 500px;
            width: 100%;
            margin-top: 20px;
            border: 1px solid #ddd;
        }

        .filter-container {
            text-align: center;
            margin: 20px;
        }

        select {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Guide for Moving to Qatar</h1>

    <section>
        <h2>General Overview of Qatar</h2>
        <p>Qatar is a small yet influential nation in the Gulf, known for its robust economy, modern infrastructure, and cultural diversity.</p>
    </section>

    <section>
    <h2>Topics</h2>
    <ul>
        <li onclick="toggleDetails('visa')">
            Visa and Residency Requirements 
            <span id="icon-visa" class="expand-icon">▼</span>
        </li>
        <div id="visa" class="details">
            <p>- Work visas: Detailed process and documents required.</p>
            <p>- Family sponsorships: How to bring family members to Qatar.</p>
            <p>- Residency permits: Application tips and validity periods.</p>
        </div>

        <li onclick="toggleDetails('housing')">
            Housing and Neighborhoods 
            <span id="icon-housing" class="expand-icon">▼</span>
        </li>
        <div id="housing" class="details">
            <p>- Popular neighborhoods: Overview of areas for families and singles.</p>
            <p>- Renting vs. buying: Pros, cons, and procedures.</p>
            <p>- Cost expectations: Typical housing costs in Qatar.</p>
        </div>

        <li onclick="toggleDetails('education')">
            Education and Schools 
            <span id="icon-education" class="expand-icon">▼</span>
        </li>
        <div id="education" class="details">
            <p>- International schools: Curriculum options and fees.</p>
            <p>- Universities: Higher education opportunities in Qatar.</p>
            <p>- Admission tips: Steps for enrolling children or yourself.</p>
        </div>

        <li onclick="toggleDetails('healthcare')">
            Healthcare 
            <span id="icon-healthcare" class="expand-icon">▼</span>
        </li>
        <div id="healthcare" class="details">
            <p>- Public healthcare: Overview of government services.</p>
            <p>- Private hospitals: Leading institutions and their specialties.</p>
            <p>- Health insurance: Requirements and available plans.</p>
        </div>

        <li onclick="toggleDetails('employment')">
            Employment Opportunities 
            <span id="icon-employment" class="expand-icon">▼</span>
        </li>
        <div id="employment" class="details">
            <p>- Key industries: Sectors driving the Qatari economy.</p>
            <p>- Job portals: Platforms to search for jobs in Qatar.</p>
            <p>- Work culture: What to expect in a Qatari workplace.</p>
        </div>

        <li onclick="toggleDetails('cost')">
            Cost of Living 
            <span id="icon-cost" class="expand-icon">▼</span>
        </li>
        <div id="cost" class="details">
            <p>- Housing: Typical rents for apartments and villas.</p>
            <p>- Transportation: Car rentals, metro costs, and taxis.</p>
            <p>- Groceries: Supermarket prices and budgeting tips.</p>
        </div>

        <li onclick="toggleDetails('culture')">
            Cultural and Social Aspects 
            <span id="icon-culture" class="expand-icon">▼</span>
        </li>
        <div id="culture" class="details">
            <p>- Dress code: Dos and don'ts for attire in Qatar.</p>
            <p>- Social etiquette: Key customs to respect.</p>
            <p>- Celebrations: National holidays and festivals.</p>
        </div>
    </ul>
</section>

    <section>
        <h2>Interactive Map</h2>
        <div class="filter-container">
            <label for="filterDropdown">Filter locations:</label>
            <select id="filterDropdown" onchange="filterMap()">
                <option value="all">All Locations</option>
                <option value="supermarkets">Supermarkets</option>
                <option value="embassies">Embassies</option>
                <option value="hospitals">Hospitals</option>
            </select>
        </div>

        <div id="map"></div>
    </section>

<script>
    function toggleDetails(id) {
        var details = document.getElementById(id);
        var icon = document.getElementById('icon-' + id);

        // Toggle the active class for details visibility
        if (details.classList.contains('active')) {
            details.classList.remove('active');
            icon.style.transform = "rotate(0deg)"; // Reset icon rotation
        } else {
            details.classList.add('active');
            icon.style.transform = "rotate(180deg)"; // Rotate icon when opened
        }
    }
</script>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    // Initialize map
    const map = L.map('map').setView([25.276987, 51.520008], 10);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    // Create marker groups
    const supermarketsLayer = L.layerGroup().addTo(map);
    const embassiesLayer = L.layerGroup().addTo(map);
    const hospitalsLayer = L.layerGroup().addTo(map);

    // Add markers to each group
    L.marker([25.276987, 51.520008]).bindPopup("Supermarket 1").addTo(supermarketsLayer);
    L.marker([25.276789, 51.530008]).bindPopup("Supermarket 2").addTo(supermarketsLayer);
    L.marker([25.276987, 51.510008]).bindPopup("Embassy 1").addTo(embassiesLayer);
    L.marker([25.276589, 51.520988]).bindPopup("Embassy 2").addTo(embassiesLayer);
    L.marker([25.270000, 51.520000]).bindPopup("Hospital 1").addTo(hospitalsLayer);
    L.marker([25.260000, 51.530000]).bindPopup("Hospital 2").addTo(hospitalsLayer);

    // Filter map markers
    function filterMap() {
        const selectedValue = document.getElementById('filterDropdown').value;

        supermarketsLayer.removeFrom(map);
        embassiesLayer.removeFrom(map);
        hospitalsLayer.removeFrom(map);

        if (selectedValue === 'supermarkets') supermarketsLayer.addTo(map);
        if (selectedValue === 'embassies') embassiesLayer.addTo(map);
        if (selectedValue === 'hospitals') hospitalsLayer.addTo(map);
        if (selectedValue === 'all') {
            supermarketsLayer.addTo(map);
            embassiesLayer.addTo(map);
            hospitalsLayer.addTo(map);
        }
    }
</script>
</body>
</html>
